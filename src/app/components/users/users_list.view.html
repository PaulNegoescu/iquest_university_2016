<h3>Users List</h3>

<p>
    <label for="search">Search</label>
    <input type="text" ng-model = "vm.searchUser">
</p>

<table class="table table-bordered table-striped table-hover">
    <thead>
    <tr>
        <th>Full Name</th>
        <th>Username</th>
        <th>Email</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="user in vm.users | filter : vm.search">
        <td>{{user.firstname}} {{user.lastname}}</td>
        <td>{{user.username}}</td>
        <td>{{user.email}}</td>
        <td>
            <button ng-click="vm.openDeleteConfirmation(user, $index)" class="btn btn-danger" >Delete User</button>

            <button ng-click="vm.openPfmConfirmation(user, $index, 'set')" class="btn btn-warn" ng-show="user.roles.indexOf('pfm') < 0">Set PFM</button>
            <button ng-click="vm.openPfmConfirmation(user, $index, 'unset')" class="btn btn-warn" ng-show="user.roles.indexOf('pfm') >= 0">Delete PFM</button>

            <button ng-click="vm.openAdminConfirmation(user, $index, 'set')" class="btn btn-warn" ng-show="user.roles.indexOf('admin') < 0">Set ADMIN</button>
            <button ng-click="vm.openAdminConfirmation(user, $index, 'unset')" class="btn btn-warn" ng-show="user.roles.indexOf('admin') >= 0">Delete ADMIN</button>
        </td>
    </tr>
    </tbody>
</table>



